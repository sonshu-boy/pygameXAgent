# 老鼠格鬥遊戲

一個使用 Pygame 開發的 2D 橫向格鬥遊戲，玩家操作一隻老鼠角色在平台環境中完成三個不同的關卡。

## 遊戲特色

- **雙拳蓄力攻擊系統**：左右拳可分別控制，支援蓄力攻擊造成額外傷害和效果
- **多層次戰鬥機制**：包含二段跳、防禦、滑行攻擊等多樣化操作
- **平台戰鬥系統**：多層平台環境，敵人具備智能跳躍追擊能力
- **三個特色關卡**：從訓練場逐步升級到挑戰性的 BOSS 戰
- **流暢戰鬥體驗**：精細的擊退、眩暈、無敵時間等戰鬥反饋

## 系統需求

- Python 3.7+
- Pygame 2.5.2
- Windows 系統（最佳中文字體支援）

## 安裝執行

1. 安裝依賴套件：

```bash
pip install -r requirements.txt
```

2. 啟動遊戲：

```bash
python run_game.py
```

## 操作指南

### 基本操作

- **WASD** 或 **方向鍵**：移動和跳躍
- **W** 連按：二段跳（空中時可再次跳躍）
- **Shift**：蹲下（靜止時）或滑行攻擊（移動時）
- **空白鍵**：防禦（1 秒無敵，3 秒冷卻）
- **ESC**：返回主選單

### 攻擊系統

- **滑鼠左鍵**：左拳攻擊
- **滑鼠右鍵**：右拳攻擊
- **長按攻擊鍵**：蓄力攻擊（1 秒蓄力，造成 2 倍傷害+擊退+眩暈）
- 攻擊方向跟隨滑鼠游標位置
- 空中攻擊有 1.5 倍傷害加成

### 特殊機制

- **滑行攻擊**：移動時按住 Shift 可滑行並撞擊敵人
- **BOSS 戰**：BOSS 免疫普通攻擊，只受蓄力攻擊傷害
- **遠程攻擊**：BOSS 會在遠距離時發射子彈

## 關卡設計

### 第一關：訓練場

- **敵人**：訓練用人偶（3 血）
- **特色**：基礎戰鬥練習，簡單平台佈局
- **目標**：學習基本操作

### 第二關：工廠

- **敵人**：小型機器人 x3（3 血）
- **特色**：敵人會跳躍追擊，複雜平台環境
- **AI 行為**：智能跳躍到玩家所在平台，衝撞攻擊

### 第三關：實驗室

- **敵人**：巨型機器人 BOSS（10 血）
- **特色**：策略性平台佈局，多階段攻擊模式
- **特殊機制**：遠程子彈攻擊、範圍特殊技能

## 技術架構

### 核心系統

- **狀態管理**：`GameStateManager` 控制遊戲流程
- **平台系統**：`PlatformSystem` 處理所有實體的平台碰撞
- **字體管理**：自動檢測最佳中文字體
- **組合設計**：Player 包含 Fist 物件，實現雙拳獨立控制

### 專案結構

```
game/
├── main.py              # 主遊戲迴圈
├── run_game.py          # 啟動腳本
├── constants.py         # 遊戲常數配置
├── game_states.py       # 狀態管理器
├── game_level.py        # 關卡系統
├── player.py            # 玩家和拳頭類別
├── enemies.py           # 敵人 AI 系統
├── platform_system.py  # 平台碰撞檢測
├── menu.py              # 主選單界面
├── instructions.py      # 遊戲說明
├── font_manager.py      # 字體自動管理
├── particle_system.py  # 粒子效果（預留）
└── requirements.txt     # 依賴清單
```

## 開發特色

- **中英文混合開發**：程式碼使用英文，註解和 UI 使用繁體中文
- **模組化架構**：清晰的責任分離，易於擴展
- **常數驅動配置**：所有遊戲參數集中管理
- **事件驅動設計**：跳躍使用事件處理，移動使用狀態檢查

## 故障排除

1. **模組錯誤**：確認安裝 `pygame`
2. **字體問題**：確保 Windows 系統有中文字體
3. **輸入延遲**：確認遊戲視窗為焦點狀態

## 未來擴展

- 音效系統和背景音樂
- 粒子效果和視覺增強
- 更多敵人類型和關卡
- 連擊系統和特殊技能
- 存檔和設定系統

---

**技術標準**：遵循 pygame 開發原則，60 FPS 流暢運行，支援完整繁體中文顯示。
